# dcsmiz-2-json
Tiny LUA Script to transform DCS Mission File to JSON

## Prerequisites

Lua for windows

https://github.com/rjpcomputing/luaforwindows/releases

## Usage

Checkout the project, unzip a `.miz` file using 7z and copy the `mission` file into the checked out repo location

```
lua run-me.lua

[Running] lua "c:\Users\jonat\Saved Games\DCS.openbeta\Missions\Example\run-me.lua"
{"trig":{"customStartup":{},"events":{},"func":{},"flag":{},"conditions":{},"actions":{},"funcStartup":{}},"date":{"Year":2011,"Day":1,"Month":6},"maxDictId":6,"trigrules":{},"usedModules":{"A-10C Warthog by Eagle Dynamics":true,"M-2000C by RAZBAM Sims":true,"Hawk T.1A by VEAO Simulations":true,"MiG-15bis AI by Eagle Dynamics":true,"C-101 Aviojet by AvioDev":true,"F-86F Sabre by Belsimtek":true,"F-15C":true,"M-2000C AI by RAZBAM Sims":true,"Ka-50 Black Shark by Eagle Dynamics":true,"A-10A by Eagle Dynamics":true,"MiG-21Bis by Leatherneck Simulations":true,"F-86F Sabre AI by Eagle Dynamics":true,"Su-27 Flanker by Eagle Dynamics":true,"Su-25T by Eagle Dynamics":true,"L-39C":true,"Bf 109 K-4 by Eagle Dynamics":true,"World War II AI Units by Eagle Dynamics":true,"TF-51D Mustang by Eagle Dynamics":true,"UH-1H Huey by Belsimtek":true,"C-101 Aviojet":true,"./CoreMods/aircraft/MQ-9 Reaper":true,"Combined Arms by Eagle Dynamics":true,"Su-25A by Eagle Dynamics":true,"MiG-21Bis AI by Leatherneck Simulations":true,"L-39C/ZA by Eagle Dynamics":true,"MiG-15bis by Belsimtek":true,"Caucasus":true,"Mi-8MTV2 Hip by Belsimtek":true,"Hawk T.1A AI by VEAO Simulations":true,"P-51D Mustang by Eagle Dynamics":true,"FW-190D9 Dora by Eagle Dynamics":true,"F-5E/E-3 by Belsimtek":true,"Flaming Cliffs by Eagle Dynamics":true},"resourceCounter":{},"version":16,"weather":{"atmosphere_type":0,"groundTurbulence":0,"enable_fog":false,"wind":{"at8000":{"speed":0,"dir":0},"atGround":{"speed":0,"dir":0},"at2000":{"speed":0,"dir":0}},"season":{"temperature":20},"type_weather":0,"qnh":760,"cyclones":{},"name":"Summer, clean sky","dust_density":0,"visibility":{"distance":80000},"fog":{"density":7,"visibility":25,"thickness":0},"enable_dust":false,"clouds":{"density":0,"thickness":200,"base":300,"iprecptns":0}},"result":{"total":0,"offline":{"conditions":{},"actions":{},"func":{}},"blue":{"conditions":{},"actions":{},"func":{}},"red":{"conditions":{},"actions":{},"func":{}}},"groundControl":{"isPilotControlVehicles":false,"roles":{"artillery_commander":{"neutrals":0,"blue":0,"red":0},"instructor":{"neutrals":0,"blue":0,"red":0},"observer":{"neutrals":0,"blue":0,"red":0},"forward_observer":{"neutrals":0,"blue":0,"red":0}}},"map":{"centerY":680571.42857143003,"zoom":1000000,"centerX":-255714.28571428001},"coalitions":{"neutral":[32,33,35,36,7,39,41,42,44,46,17,22,23,25,29,30,31],"blue":[2,3,4,5,6,8,9,10,11,12,13,15,16,20,21,26,28,40,45],"red":[0,1,34,37,38,43,47,18,19,24,27]},"descriptionText":"DictKey_Translation_1","pictureFileNameR":{},"triggers":{"zones":{}},"theatre":"Caucasus","start_time":43200,"pictureFileNameB":{},"coalition":{"blue":{"bullseye":{"y":617414,"x":-291014},"nav_points":{},"name":"blue","country":[{"id":21,"name":"Australia"},{"id":11,"name":"Belgium"},{"id":8,"name":"Canada"},{"id":28,"name":"Croatia"},{"id":26,"name":"Czech Republic"},{"id":13,"name":"Denmark"},{"id":5,"name":"France"},{"id":16,"name":"Georgia"},{"id":6,"name":"Germany"},{"id":15,"name":"Israel"},{"id":20,"name":"Italy"},{"id":12,"name":"Norway"},{"id":40,"name":"Poland"},{"id":45,"name":"South Korea"},{"id":9,"name":"Spain"},{"id":10,"name":"The Netherlands"},{"id":3,"name":"Turkey"},{"id":4,"name":"UK"},{"id":2,"name":"USA","plane":{"group":[{"uncontrolled":false,"taskSelected":true,"modulation":0,"groupId":1,"tasks":{},"x":-355962.5625,"hidden":false,"units":[{"alt":0,"hardpoint_racks":true,"alt_type":"BARO","livery_id":"104th fs maryland ang, baltimore (md)","onboard_num":"010","parking":6,"speed":0,"heading":0,"callsign":[1,1,1],"psi":0,"parking_id":"01","x":-355962.5625,"name":"DictKey_Translation_6","payload":{"pylons":{},"fuel":5029,"flare":120,"chaff":240,"gun":100},"y":618097.125,"unitId":1,"type":"A-10C","skill":"Average"}],"y":618097.125,"radioSet":false,"name":"DictKey_Translation_5","communication":true,"route":{"points":[{"alt":0,"airdromeId":22,"ETA":0,"ETA_locked":true,"properties":{"vnav":0,"scale":0,"angle":0,"vangle":0,"steer":2},"type":"TakeOffParking","x":-355962.5625,"y":618097.125,"formation_template":"","name":"","alt_type":"BARO","speed":0,"speed_locked":true,"task":{"id":"ComboTask","params":{"tasks":[{"enabled":true,"auto":true,"id":"EngageTargets","key":"CAS","number":1,"params":{"targetTypes":["Helicopters","Ground Units","Light armed ships"],"priority":0}},{"enabled":true,"auto":false,"id":"WrappedAction","number":2,"params":{"action":{"id":"EPLRS","params":{"value":true,"groupId":1}}}}]}},"action":"From Parking Area"}]},"start_time":0,"task":"CAS","frequency":251}]}}]},"red":{"bullseye":{"y":371700,"x":11557},"nav_points":{},"name":"red","country":[{"id":18,"name":"Abkhazia"},{"id":24,"name":"Belarus"},{"id":27,"name":"China"},{"id":34,"name":"Iran"},{"id":37,"name":"Kazakhstan"},{"id":38,"name":"North Korea"},{"id":0,"name":"Russia"},{"id":43,"name":"Serbia"},{"id":19,"name":"South Ossetia"},{"id":47,"name":"Syria"},{"id":1,"name":"Ukraine"}]}},"sortie":"DictKey_Translation_4","descriptionBlueTask":"DictKey_Translation_2","goals":{},"currentKey":0,"failures":{},"forcedOptions":{},"descriptionRedTask":"DictKey_Translation_3"}

```

The result will be a printed JSON object of the mission file data table

## References

https://github.com/grafi-tt/lunajson
